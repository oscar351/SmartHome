<!DOCTYPE html>
<html>
  <head>
    <title>Hello</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel='stylesheet' href='/stylesheets/main.css' />
    <link rel='stylesheet' href='/stylesheets/toggle-switchy.css' />
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
  </head>
  <body>
    <div id="top-logo">
      <form action="/" method="GET">
        <input type="image" src="/stylesheets/image/logo.png" class="logo">
      </form>
    </div>
      <div id="logout">
      <p><%=name %>님 환영합니다!</o>
      <form action="/logout" id="lgbt">
        <button type="submit">로그아웃</button>
      </form>
      </div>
    <div id="container">
    <div id="left-btn">
      <div id="left-led">
      <div id="left-led-name">
        <p>조명</p>
      </div>
      <div id="left-led-data">
        <div id="section">
          <p>거실</p>
          <label class="toggle-switchy" for="example_default_1" data-size="xl">
            <input type="checkbox" id="example_default_1">
            <span class="toggle">
              <span class="switch"></span>
            </span>
        </div>
        <div id="section">
          <p>화장실</p>
          <label class="toggle-switchy" for="example_default_2" data-size="xl">
            <input type="checkbox" id="example_default_2">
            <span class="toggle">
              <span class="switch"></span>
            </span>
        </div>
        <div id="section">
          <p>방 1</p>
          <label class="toggle-switchy" for="example_default_3" data-size="xl">
            <input type="checkbox" id="example_default_3">
            <span class="toggle">
              <span class="switch"></span>
            </span>
        </div>
      </div>
    </div>
      <div id="left-fan">
        <div id="left-fan-name">
          <p>환풍기</p>
        </div>
        <div id="left-fan-data">
          <div id="section">
            <input type="image" src="/stylesheets/image/fan_off.png" id="fanicon" disabled>
            <label class="toggle-switchy" for="example_default_4" data-size="xl">
              <input checked type="checkbox" id="example_default_4">
              <span class="toggle">
                <span class="switch"></span>
              </span>
            </label>
            <script type="text/javascript">
              $(document).ready(function(){
                if($('#example_default_4').prop('checked') == false){
                  $('#fanicon').attr('src','/stylesheets/image/fan_off.png');
                }else{
                  $('#fanicon').attr('src','/stylesheets/image/fan_on.png');
                }
              })

              $('#example_default_4').change(function(){
                if($('#example_default_4').prop('checked') == false){
                  $('#fanicon').attr('src','/stylesheets/image/fan_off.png');
                }else{
                  $('#fanicon').attr('src','/stylesheets/image/fan_on.png');
                }
              });
            </script>
          </div>
        </div>
      </div>
    </div>
    <div id="center-btn">
      <div id="center-camera">
      <div id="center-camera-name">
        <p>보안</p>
      </div>
      <div id="center-camera-data">
        <p>카메라 들어갈 곳</p>
      </div>
      </div>
    </div>
    <div id="right-btn">
      <div id="right-house">
        <p id="right-name">집</p>
        <div id="right-house-data">
          <div class="rhd"><p>온도 : </p><p>00</p><p class="unit">℃</p></div>
          <div class="rhd"><p>습도 : </p><p>00</p><p class="unit">%</p></div>
          <div class="rhd"><p>미세먼지 : </p><p>00</p><p class="unit">㎍/㎥</p></div>
        </div>
      </div>
      <div id="right-out">
        <p id="right-name">외부</p>
        <div id="right-out-data">
          <div class="weathercity5"></div>
          <img class="weathericon" src="">
          <div class="weathercity"></div>
          <div class="weathercity1"></div>
          <div class="weathercity2"></div>
          <div class="weathercity3"></div>
          <div class="weathercity4"></div>
        </div>
      </div>
      <script type="text/javascript">

        $(document).ready(function(){
          $.ajax({
                    url : "weather",
                    type : "post",
                    dataType : 'json',
                    success : function(data){
                        $('.weathercity5').html(data.address1);
                        $('.weathercity').html(data.ondo);
                        $('.weathercity1').html(data.nalsi);
                        $('.weathercity2').html(data.humi);
                        $('.weathercity3').html(data.wind);
                        $('.weathercity4').html(data.munji);
                        if(data.nalsi == '맑음'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt1.svg')
                        }else if(data.nalsi == '흐림'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt7.svg')
                        }else if(data.nalsi == '구름조금'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt3.svg')
                        }else if(data.nalsi == '구름많음'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt5.svg')
                        }else if(data.nalsi == '약한비'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt8.svg')
                        }else if(data.nalsi == '비'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt9.svg')
                        }else if(data.nalsi == '강한비'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt10.svg')
                        }else if(data.nalsi == '약한눈'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt11.svg')
                        }else if(data.nalsi == '눈'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt12.svg')
                        }else if(data.nalsi == '강한눈'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt13.svg')
                        }else if(data.nalsi == '흐린 후 갬'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt25.svg')
                        }else if(data.nalsi == '비 후 갬'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt27.svg')
                        }else if(data.nalsi == '눈 후 갬'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt28.svg')
                        }else if(data.nalsi == '흐려져 비'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt29.svg')
                        }else if(data.nalsi == '흐려져 눈'){
                          $('.weathericon').attr('src', 'https://ssl.pstatic.net/sstatic/keypage/outside/scui/weather_new_new/img/weather_svg/icon_flat_wt30.svg')
                        }
                    },
                    error : function(){
                        alert("서버요청실패");
                    }
                });
        });
      </script>
    </div>
  </div>
  </body>
</html>
